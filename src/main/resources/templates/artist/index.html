<!DOCTYPE html>
<html lang="fr" xmlns:layout="http://www.ultraq.net.mx/thymeleaf/layout"
	  layout:decorate="~{layouts/main}">
<head>
	<title>Liste des artistes</title>
</head>
<body>
<div class="container">
	<div th:fragment="content">
		<h1 th:text="${title}">Liste des artistes</h1>

		<table th:unless="${#lists.isEmpty(artists)}">
			<thead>
			<tr>
				<th>Firstname</th>
				<th>Lastname</th>
			</tr>
			</thead>
			<tbody>
			<tr th:each="artist : ${artists}">
				<td th:text="${artist.firstname}">Bob</td>
				<td><a th:text="${artist.lastname}"
					   th:href="@{/artists/{id}(id=${artist.id})}">Sull</a></td>
			</tr>
			</tbody>
		</table>
		<form sec:authorize="hasAuthority('admin')" th:action="@{/process_add_new_artist}" th:object="${artistObj}"
		method="post" style="max-width: 600px; margin: 0 auto;">
	<div class="m-3">
		<div class="form-group row">
			<label class="col-4 col-form-label">First name: </label>
			<div class="col-8">
				<input type="text" th:field="*{firstname}" class="form-control"
						required minlength="3" maxlength="30"/>
			</div>
		</div>
		<div class="form-group row">
			<label class="col-4 col-form-label">Last name: </label>
			<div class="col-8">
				<input type="text" th:field="*{lastname}" class="form-control"
						required minlength="3" maxlength="30"/>
			</div>
		</div>
		<div>
			<button type="submit" class="btn btn-primary">Add</button>
		</div>
	</div>
	</form>



	</div>
</div>
</body>
</html>
